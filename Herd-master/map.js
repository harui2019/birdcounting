var bird_data = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Lanius cristatus",
        "number": "23",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.1,
          23.065
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Turdus pallidus",
        "number": "17",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.14,
          23.011
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Turdus pallidus",
        "number": "9",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.24,
          23.011
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Turdus pallidus",
        "number": "2",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.147,
          22.997
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Turdus pallidus",
        "number": "7",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.153,
          23.014
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Hirundo rustica",
        "number": "11",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.21,
          23.056
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Hirundo rustica",
        "number": "1",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.275875,
          23.022
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Hirundo rustica",
        "number": "5",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.1986354,
          23.10635
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Pycnonotus sinensis",
        "number": "7",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.1589,
          23.0156
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Pycnonotus sinensis",
        "number": "14",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.15891,
          23.01555
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Pycnonotus sinensis",
        "number": "11",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.1591,
          23.01544
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Pycnonotus sinensis",
        "number": "10",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.157,
          23.01533
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Pycnonotus sinensis",
        "number": "2",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.1489,
          23.017
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Pycnonotus sinensis",
        "number": "3",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.1589,
          23.019
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Prinia crinigera",
        "number": "9",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.1357,
          23.02047
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Prinia crinigera",
        "number": "13",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.153,
          23.064
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Prinia crinigera",
        "number": "6",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.143,
          23.0023
        ]
      }
    },{
      "type": "Feature",
      "properties": {
        "bird_kind": "Prinia crinigera",
        "number": "18",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.1537,
          22.9998
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Prinia crinigera",
        "number": "2",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.284,
          23.0012
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Prinia crinigera",
        "number": "12",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.14,
          23.01211
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Prinia crinigera",
        "number": "13",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.252,
          23.077
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Gorsachius melanolophus",
        "number": "2",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.266,
          23.054
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Gorsachius melanolophus",
        "number": "3",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.2847,
          22.999
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "bird_kind": "Gorsachius melanolophus",
        "number": "4",
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          120.104,
          23.0479
        ]
      }
    }
  ]
}


var southWest = L.latLng(22.97, 119.97),
    northEast = L.latLng(23.12, 120.3),
    bounds = L.latLngBounds(southWest, northEast);

var mymap = L.map('mapid')
  		   .setView([23.065, 120.1], 13)
  		   .setMaxBounds(bounds);
//指定位置

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', 
				{ 
				  minZoom: 10, 
				  maxZoom: 18, id: "mapbox.comic", 
				  attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'})
 .addTo(mymap);

var markers = L.markerClusterGroup();
var geojsonMarkerOptions = {
    radius: 8,
    fillColor: "#ff7800",
    color: "#000",
    weight: 1,
    opacity: 1,
    fillOpacity: 0.8
};

function onEachFeature(feature, layer) {
  var birdinf = feature.properties;
  
	var info = 
	"<h3>" + birdinf.bird_kind + "</h3>" +
	"Number: " + birdinf.number + "<br>";
    layer.bindPopup(info,{closeButton: false});
	layer.on(
		{
            mouseover:  function() { layer.openPopup(); },
            mouseout: function() { layer.closePopup(); },
            // click:  function() {  } show img
    	}
    );
}



L.geoJSON( bird_data, { pointToLayer: function (feature, latlng) {return L.marker(latlng);} , 
				   onEachFeature: onEachFeature} )
 .addTo(markers)

 markers.addTo(mymap);



